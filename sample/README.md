# A基盤型ABC理論

## 概要
`A基盤型ABC理論` は、**Aを基準拍（軸）** にして、`B` と `C` を変化拍として配置することで、  
拍感を維持しながら複数のリズムバリエーションを作るための設計ルールです。

このフォルダの `sample_bass.js` では、4/4 × 4小節（全16拍）を対象に、  
キックとハイハットを同じ理論で生成しています。

## コアルール
### Rule 1
`A,A,A,B` を3回繰り返し、最後だけ `A,A,A,C`

展開（16拍）:
`A,A,A,B, A,A,A,B, A,A,A,B, A,A,A,C`

### Rule 2
`A,A,B,A` を3回繰り返し、最後だけ `A,B,A,C`

展開（16拍）:
`A,A,B,A, A,A,B,A, A,A,B,A, A,B,A,C`

### Rule 3
`A,B,A,A` を3回繰り返し、最後だけ `A,A,B,C`

展開（16拍）:
`A,B,A,A, A,B,A,A, A,B,A,A, A,A,B,C`

## 記号の意味
- `A`: 基準拍（最も安定した位置）
- `B`: Aより少し動きを作る変化
- `C`: フレーズ末尾で次ループへ繋ぐ終止/アクセント

## 実装上の扱い
1拍は16分グリッド4ステップで表現します。

例:
- キックの `A/B/C` モチーフ（1拍=4ステップ）
- ハイハットの `A/B/C` モチーフ（1拍=4ステップ）

`sample_bass.js` では次の流れで生成します。
1. Rule（A/B/C配列）を作る
2. 1拍モチーフ辞書に展開する
3. 16拍分（64ステップ）のループへ変換する
4. `Tone.Transport` の16分リピートで再生する

## 期待できる効果
- 拍感が崩れにくい
- 単純ランダムより意図のある変化になる
- Aを軸にしているため、別パート（キック/ハット）間で整合を取りやすい

## ファイル対応
- `sample/sample.html`
  - サンプル選択UI、再生/停止、BPM入力
- `sample/sample_bass.js`
  - A基盤型ABC理論に基づく10サンプル生成と再生ロジック

## 使い方
1. `sample/sample.html` をブラウザで開く
2. `Audio Start` を押す
3. 任意の `Play` でサンプルを試聴
4. BPMを変更して再生感を確認
